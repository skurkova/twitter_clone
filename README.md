# Проект "Twitter-clone"

**Twitter-clone — это корпоративный сервис микроблога по типу Twitter.**

Проект представляет собой **_серверное приложение_** (Backend: Flask (Gunicorn)), **_базу данных_** (PostgreSQL) и 
**_клиентскую часть_** (Fronted: Nginx), реализующие функционал корпоративного сервиса микроблога.

### Основные функции сервиса:
1. Пользователь может добавить новый твит.
2. Пользователь может удалить свой твит.
3. Пользователь может зафоловить другого пользователя.
4. Пользователь может отписаться от другого пользователя.
5. Пользователь может отмечать твит как понравившийся.
6. Пользователь может убрать отметку «Нравится».
7. Пользователь может получить ленту из твитов отсортированных в
порядке убывания по популярности от пользователей, которых он
фоловит.
8. Твит может содержать картинку.


### Структура проекта
![Структура Twitter-clone.png](%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20Twitter-clone.png)


### API предоставляет следующие основные эндпоинты:

* ### Users - операции с пользователями
  - `GET` `/api/users/{user_id}`: Получить информацию о профиле по ID
  - `GET` `/api/users/me`: Получить информацию о своём профиле

* ### Tweets - операции с твитами
  - `POST` `/api/tweets`: Создать новый твит
  - `GET` `/api/tweets`: Получить ленту твитов
  - `DELETE` `/api/tweets/{tweet_id}`: Удалить твит

* ###  Media - операции с медиафайлами
  - `POST` `/api/medias`: Загрузить файлы из твита

* ###  Likes - операции с лайками
  - `POST` `/api/tweets/{tweet_id}/likes`: Поставить лайк на твит
  - `DELETE` `/api/tweets/{tweet_id}/likes`: Убрать лайк с твита

* ###  Follow - операции с подписками
  - `POST` `/api/users/{user_id}/follow`: Зафоловить другого пользователя
  - `DELETE` `/api/users/{user_id}/follow`: Отписаться от другого пользователя

Для авторизации используется заголовок `api-key` с ключом пользователя.

API соответствует стандарту `OpenAPI 2.0.0` и включает подробную документацию, доступную через Swagger UI.


### Запуск сервиса
1. Клонируем репозиторий с GitHub:

   `git clone https://github.com/skurkova/twitter_clone.git`
2. Переходим в каталог проекта:
   
   `cd twitter_clone`
3. Запускаем Docker Compose с помощью команды:

   `docker-compose up --build -d`
4. Открываем браузер и переходим по адресам:
   - Фронтенд: http://localhost:8080/
   - API: http://localhost:8080/api/
   - Документация API (Swagger): http://localhost:5000/apidocs/


### Тестирование

Для тестирования приложения и проверки покрытия тестами, запускаем тесты "внутри" контейнера `server` c помощью команды:

`docker-compose exec server pytest -v --cov=api /server/tests/`


